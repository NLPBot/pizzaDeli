<?xml version="1.0" encoding="UTF-8"?>
<vxml version = "2.1">
<meta name="maintainer" content="erniecyc@gmail.com" />
<property name="grammarfetchint" value="prefetch" />
<form id="City">
		<block>
			<prompt bargein="false"> Hi, my name is Gina </prompt>
		</block>

  <field name="City">
   <prompt>
     how are you today? Which city are you located?
   </prompt>
  <!-- Define the grammar. -->
  <grammar xml:lang="en-us" root = "myrule">
   <rule id="myrule">
   <one-of>
    <item> Seattle </item>
    <item> San Diego </item>
    </one-of>
   </rule>
   </grammar>
   <!-- The user was silent, restart the field. -->
   <noinput>
    I did not hear anything. Please try again.
    <reprompt/>
   </noinput>
   <!-- The user said something that was not defined in our grammar. -->
   <nomatch>
     I did not recognize that character. Please try again.
    <reprompt/>
   </nomatch>
  </field>

  <!-- Checks the "SouthParkCharacter" value against each of the valid values. -->
  <filled namelist="City">
  <if cond="City == 'Seattle'"> 
   <prompt>
     Seattle sounds like a cool place!  
   </prompt>
   <goto next="#State"/>
  <elseif cond="City == 'San Diego'" />
   <prompt>
     It's a beautiful place! 
   </prompt>
   <goto next="#State"/> 
  <else/>
   <prompt>
     I'm sure you live on Mars!
   </prompt>
  </if> 
</filled>

</form>

<form id="State">
		<block>
			<prompt bargein="false"> We will also need to know which state you live in.  </prompt>
		</block>
  <field name="State">
   <prompt>
     Which state do you live in?
   </prompt>
  <!-- Define the grammar. -->
  <grammar xml:lang="en-us" root = "myrule">
   <rule id="myrule">
   <one-of>
    <item> Washington </item>
    <item> California </item>
    </one-of>
   </rule>
   </grammar>
   <!-- The user was silent, restart the field. -->
   <noinput>
    I did not hear anything. Please try again.
    <reprompt/>
   </noinput>
   <!-- The user said something that was not defined in our grammar. -->
   <nomatch>
     I did not recognize that character. Please try again.
    <reprompt/>
   </nomatch>
  </field>

  <!-- Checks the "SouthParkCharacter" value against each of the valid values. -->
  <filled namelist="State">
  <if cond="State == 'Washington'"> 
   <goto next="#Forecast_W"/>
  <elseif cond="State == 'California'" />
   <goto next="#Forecast_C"/>
  <else/>
   <prompt>
     That's interesting!
   </prompt>
  </if> 
</filled>
</form>	

<form id="Forecast_C">
  <field name="Forecast_C">
   <prompt>
     Do you want to know the weather forecast for the current weather, short term, or the long term?
   </prompt>
  <!-- Define the grammar. -->
  <grammar xml:lang="en-us" root = "myrule">
   <rule id="myrule">
   <one-of>
    <item> current </item>
    <item> short term </item>
    <item> long term </item>
    </one-of>
   </rule>
   </grammar>
   <!-- The user was silent, restart the field. -->
   <noinput>
    I did not hear anything. Please try again.
    <reprompt/>
   </noinput>
   <!-- The user said something that was not defined in our grammar. -->
   <nomatch>
     I did not recognize that character. Please try again.
    <reprompt/>
   </nomatch>
  </field>

  <!-- Checks the "SouthParkCharacter" value against each of the valid values. -->
  <filled namelist="current">
  <if cond="Forecast_C == 'current'"> 
   <prompt>
     The weather in sunshine San Diego, California currently is sunny. 
     Have a nice day!
   </prompt>
  <elseif cond="Forecast_C == 'short term'" />
   <prompt>
     The weather in sunshine San Diego, California currently is mostly sunny.
     Have a nice day!
   </prompt>
  <else/>
   <prompt>
     The weather in sunshine San Diego, California currently is always sunny!
     Have a nice day!
   </prompt>
  </if> 
</filled>
</form>	

<form id="Forecast_W">
  <field name="Forecast_W">
   <prompt>
     Do you want to know the weather forecast for the current weather, short term, or the long term?
   </prompt>
  <!-- Define the grammar. -->
  <grammar xml:lang="en-us" root = "myrule">
   <rule id="myrule">
   <one-of>
    <item> current </item>
    <item> short term </item>
    <item> long term </item>
    </one-of>
   </rule>
   </grammar>
   <!-- The user was silent, restart the field. -->
   <noinput>
    I did not hear anything. Please try again.
    <reprompt/>
   </noinput>
   <!-- The user said something that was not defined in our grammar. -->
   <nomatch>
     I did not recognize that character. Please try again.
    <reprompt/>
   </nomatch>
  </field>

  <!-- Checks the "SouthParkCharacter" value against each of the valid values. -->
  <filled namelist="current">
  <if cond="Forecast_W == 'current'"> 
   <prompt>
     It is currently raining now in Seattle, Washington currently.
     Have a nice day!
   </prompt>
  <elseif cond="Forecast_W == 'short term'" />
   <prompt>
     It will be raining in Seattle, Washington currently.
     Have a nice day!
   </prompt>
  <else/>
   <prompt>
     It will always be raining in Seattle, Washington currently.
     Have a nice day!
   </prompt>
  </if> 
</filled>
</form>	

</vxml>
