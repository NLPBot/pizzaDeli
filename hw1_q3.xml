<?xml version="1.0"?>
<vxml version = "2.1">
 
<form>
<field name="F_1">
   <prompt>
    Please listen to the following options.
    Please tell us your city, state and follow by one for the current weather, two for short term, and three for the long term.
   </prompt>
 
<grammar xml:lang="en-US" root = "TOPLEVEL">
  <rule id="TOPLEVEL" scope="public">
    <item>
      <!-- CITY -->
      <item repeat="0-1">
        <ruleref uri="#CITY" />
        <tag>out.citySlot=rules.CITY.citySubsSlot</tag>
      </item>
 
      <!-- STATE-->
      <item repeat="0-1">
        <ruleref uri="#STATE" />
        <tag>out.stateSlot=rules.STATE.stateSubsSlot</tag>
      </item>
 
      <!-- WEATHER -->
      <ruleref uri="#WEATHER" />
      <tag>out.weatherSlot=rules.WEATHER.weatherSubsSlot</tag>
    </item>
 
    <!-- TOP LEVEL RETURN-->
    <tag> out.F_1= out.citySlot + out.stateSlot + " is " + out.weatherSlot </tag>
  </rule>
 
  <rule id="CITY" scope="public">
    <one-of>
    <item> seattle <tag>out.citySubsSlot="seattle";</tag></item>
    </one-of>
  </rule>
   
  <rule id="STATE" scope="public">
    <one-of>
    <item> washington <tag>out.stateSubsSlot="washington";</tag></item>
    </one-of>
  </rule>
   
  <rule id="WEATHER" scope="public">
    <one-of>
    <item> one <tag> out.weatherSubsSlot=" rainy "; </tag></item>
    <item> two <tag> out.weatherSubsSlot=" rainy "; </tag></item>
    <item> three <tag> out.weatherSubsSlot=" rainy "; </tag></item>    
    </one-of>
  </rule>
</grammar>
 
  <filled>
    <prompt>
      The weather is <value expr="F_1" />.
    </prompt>
  </filled>
</field>
</form>
</vxml>
